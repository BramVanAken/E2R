function $m(e){return document.getElementById(e)}function remove(e){var t=e.parentNode;t.removeChild(e)}function addEvent(e,t,n){e.addEventListener&&e.addEventListener(t,n,!0),e.attachEvent&&e.attachEvent("on"+t,n)}function removeEvent(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)}function isWebKit(){return RegExp(" AppleWebKit/").test(navigator.userAgent)}function ajaxUpload(e){var t=isWebKit(),n="upload.php",o="upload_area",r='<img src="data/img-loading.gif" />',m='<img src="data/img-error.png" />',i=document.createElement("iframe");i.setAttribute("id","uploadform-temp"),i.setAttribute("name","uploadform-temp"),i.setAttribute("width","0"),i.setAttribute("height","0"),i.setAttribute("border","0"),i.setAttribute("style","width: 0; height: 0; border: none;"),e.parentNode.appendChild(i),window.frames["uploadform-temp"].name="uploadform-temp";var a=function(){removeEvent($m("uploadform-temp"),"load",a);var e="javascript: ";e+="window.parent.$m('"+o+"').innerHTML = document.body.innerHTML; void(0);",$m(o).innerHTML=m,$m("uploadform-temp").src=e,t?remove($m("uploadform-temp")):setTimeout(function(){remove($m("uploadform-temp"))},250)};return addEvent($m("uploadform-temp"),"load",a),e.setAttribute("target","uploadform-temp"),e.setAttribute("action",n),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),r.length>0&&($m(o).innerHTML=r),e.submit(),formDisable(),!1}function formDisable(){var e=document.forms[0].elements.length;for(i=0;i<e;i++)document.forms[0].elements[i].disabled=!0}function formEnable(){var e=document.forms[0].elements.length;for(i=0;i<e;i++)document.forms[0].elements[i].disabled=!1}function formDone(){formDisable(),setTimeout("formEnable()",5e3)}